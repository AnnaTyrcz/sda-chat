Na dzisiejszych zajęciach zajmiemy się obsługą wielu klientów po stronie serwera.
Chcielibyśmy, aby wiadomość przesłana do serwera przez jednego Clienta została przesłana do wszystkich połączonych klientów.
W tym celu trzeba przechowywać referencję do wszystkich aktywnych połączeń i w momencie odebrania wiadomości w jednym ClientHandlerze
rozpropagować ją do pozostałych.

Wszystkie potrzebne informację na temat socketów można doczytać tutaj:
https://docs.oracle.com/javase/tutorial/networking/sockets/

Zajmiemy się problemem:
(java.net.SocketException: Connection reset)
Try with resources..


Aktualnie nasze wiadomości "wędrują" przez internet niezaszyfrowane. Wprowadzimy więc proste szyfrowanie symetryczne.
Szyfr symetryczny to taki, w którym można odkodować i zakodować wiadomość tym samym kluczem.
Najbardziej popularnym szyfrem symetrycznym jest szyfr Cezara. Polega on na przesunięciu "w przód" każdej litery szyfrowanego tekstu.
Np tekst: "baca" po zaszyfrowaniu kluczem '3' to "edfd".



Czym się będziemy zajmować w czwartek?
Skończymy szyfrowanie Cezara.
Słusznie zauważyliście, że nie musimy walidować, czy cos jest napisem, czy nie.
Możemy na nasze potrzeby założyć, że przesuwamy wszystko o klucz z zakresu <1,127>.

Przerobimy komunikację miedzy clientem i serverem,
tak aby przesyłała JSON wraz z informacjami:
-kto przesyła wiadomość
-o której godzinie
-treść wiadomości

Trzeba zmodyfikować kod w miejscu otrzymywania wiadomosci.
Trzeba sparsowac jsona do obiektu klasy message Dto i przekazac go do widoku.

Dodatkowo chcieliśmy zrobić, aby wiadomość wysłała się po wciśnieciu 'entera'.
Zrobimy to inaczej niż listener. Wykorzystamy metode z frame, która pozwala ustawić domyślny przycisk do 'submitu'.

